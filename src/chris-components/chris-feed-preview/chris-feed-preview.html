<html><head><link rel="import" href="../../../bower_components/polymer/polymer.html">


<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/iron-icons/social-icons.html">


<link rel="import" href="../../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../../bower_components/paper-item/paper-item.html"> 
<link rel="import" href="../../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../../bower_components/paper-menu/paper-menu.html"> 
<link rel="import" href="../../../bower_components/paper-menu-button/paper-menu-button.html"> 
<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../bower_components/paper-tooltip/paper-tooltip.html">

</head><body><dom-module id="chris-feed-preview">

  <template>
    <style>

      :host{
        
        display: block;

      }

      /* Feed style */

      .feed {

        display: flex;
        flex-direction: row;
        width:100%;

      }

      .feed:hover {

        @apply(--shadow-elevation-8dp);

      }

      .feed.checked {

        background-color: var(--paper-grey-200);

      }

      /* Selection area */
      .selection-area {

        width:48px;
        height: 48px;
        font-size: 18px;
        box-sizing: border-box;
        color: var(--primary-text-color);
        flex-direction: row;
        justify-content: center;
        align-items: center;
        display: flex;

      }

      .checked .selection-area {

        background-color: var(--paper-grey-700);

      }

      .selection-area paper-checkbox {

        display:none;
        --paper-checkbox-size: 18px;
        --paper-checkbox-label-spacing: 0px;
        --paper-checkbox-checked-color: var(--paper-grey-700);

      }

      .selection-area:hover paper-checkbox, .checked .selection-area paper-checkbox {

        display: block;

      }

      .selection-area:hover .letter, .checked .selection-area .letter {

        display: none;

      }

      /* Title area */
      .title-area {

        flex:1;
        box-sizing: border-box;
        color: var(--primary-text-color);
        flex-direction: row;
        justify-content: flex-start;
        align-items: center;
        display: flex;
        
      }

      .name {

        padding-left: 8px;
        font-size: 16px;
        white-space:nowrap;
        overflow:hidden;
        text-overflow:ellipsis;

      }

      .date {

        padding-left: 8px;
        font-size: 14px;
        color: var(--secondary-text-color);
        white-space:nowrap;
        overflow:hidden;
        text-overflow:ellipsis;

      }

      /* Action area */
     /* width vx flex 1 100%*/

      .feed:hover .actions-area {
        display:flex;
      }

      .actions-area {
        /*or not?*/
        position: absolute;
        top: 0;
        right: 0;
        display:none;
        background-color: var(--paper-grey-200);
        color: var(--primary-text-color);
        padding: 0 16px;
        box-sizing: border-box;
        text-align: right;
        flex-direction: row;
        justify-content: flex-end;
        align-items: center;

        }

        paper-icon-button, .checkbox{
          opacity: 0.5;
        }

        paper-icon-button:hover, .checkbox:hover{
          opacity: 1.0;
        }

        paper-menu-button {

          padding: 0;

        }

      @media (max-width: 896px) {
          .date {
            display: none;
          }
        } 


    </style>

    <paper-material id="feed" class="feed" elevation="1">

      
      <div class="selection-area" on-tap="_blockEvents">
        
        <div class="letter">{{_firstLetter(feed.data.name)}}</div>
        <paper-checkbox on-tap="check" checked="{{checked}}"></paper-checkbox>

      </div>

      
      <div class="title-area" style$="{{_setBackgroundStyle(feed.data.color)}}">

        <div class="name">Feed [[feed.data.id]] - [[feed.data.name]]</div>
        <div class="date"> [[feed.data.date]] </div>

      </div>

      
      <div class="actions-area" on-tap="_blockEvents">

        <paper-icon-button id="share" class="action" icon="social:share" on-tap="share"></paper-icon-button>
        <paper-icon-button id="favorite" class="action" icon$="[[_setFavoriteIcon(feed.data.favorite)]]" on-tap="favorite"></paper-icon-button>

        

      </div>

    </paper-material>

  </template>

  <script>Polymer({is:"chris-feed-preview",properties:{feed:{type:Object,observer:"_validateFeed"},checked:{type:Boolean,value:!1,observer:"_checkedChanged"},valid:{type:Boolean},error:{type:Array}},observers:["updateFavorite(feed.data.favorite)"],updateFavorite:function(){},_firstLetter:function(e){return e.charAt(0)},check:function(){event.preventDefault(),event.stopPropagation()},_checkedChanged:function(){this.checked?this.$.feed.classList.add("checked"):this.$.feed.classList.remove("checked")},share:function(e){e.preventDefault(),e.stopPropagation(),this.valid&&console.log("share feed")},tag:function(e){e.preventDefault(),e.stopPropagation(),!this.valid},_setTagStyle:function(e){return"color: "+e+";"},_setBackgroundStyle:function(e){return"border-left: 2px solid "+e+";"},favorite:function(e){if(e.preventDefault(),e.stopPropagation(),this.valid){var t=[{name:"favorite",value:this.feed.data.favorite}];this.set(["feed","data","favorite"],!this.feed.data.favorite),this.fire("save-feed",{feed:this.feed,cache:t})}},_setFavoriteIcon:function(e){return e?"icons:favorite":"icons:favorite-border"},_validateFeed:function(){if(this.feed&&this.feed.data){var e=[];if("string"!=typeof this.feed.data.id&&e.push("id:String"),"string"!=typeof this.feed.data.name&&e.push("name:String"),"string"!=typeof this.feed.data.letter&&e.push("letter:String"),"string"!=typeof this.feed.data.color&&e.push("color:String"),"string"!=typeof this.feed.data.date&&e.push("date:String"),"string"!=typeof this.feed.data.status&&e.push("status:String"),"boolean"!=typeof this.feed.data.favorite&&e.push("favorite:Boolean"),this.feed.data.tags&&this.feed.data.tags.constructor===Array||e.push("tags:Array"),e.length>0)return this.error=e,this.fire("error-changed"),this.valid=!1,this.fire("valid-changed"),void this.fire("error");this.valid=!0,this.fire("valid-changed")}},_validateTags:function(e){return e&&e.constructor===Array?e:[]},_blockEvents:function(e){e.preventDefault(),e.stopPropagation()}});</script>
</dom-module>
</body></html>