<script>
    /** @polymerBehavior Login */
    Login = {

      prepareLogin: function( what ){

        this.handleAs = 'json';

        switch( what ){

          case 'url':

            var url = this.apiRoot;

            if( this.fakeAPI ){

              url = '/data/login.json';

            }

            return url;

          case 'params':

            return this.params;

          case 'body':

            return this.body;

          default:

            break;

          }
        return false;
      },

      handleLogin: function( request ){

        console.log( request );

        var response = {};
        // ChRIS API login not working so dummy check
        // dummy test, should only rely on response!
        var match = ( Math.random() > 0.1 );

        response = {
          status: match,
          message: match? 'Successful login.' : 'Username and password do not match.',
          token: 'ABCDEF123456789'
        };

        return response;
      },

      handleErrorLogin: function( request ){

        return this.error;

      }
    };
</script>
