!function(){var t=function(e,n){var r=t.resolve(e,n||"/"),o=t.modules[r];if(!o)throw new Error("Failed to resolve module "+e+", tried "+r);var i=t.cache[r],u=i?i.exports:o();return u};t.paths=[],t.modules={},t.cache={},t.extensions=[".js",".coffee",".json"],t._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},t.resolve=function(){return function(e,n){function r(e){if(e=l.normalize(e),t.modules[e])return e;for(var n=0;n<t.extensions.length;n++){var r=t.extensions[n];if(t.modules[e+r])return e+r}}function o(e){e=e.replace(/\/+$/,"");var n=l.normalize(e+"/package.json");if(t.modules[n]){var o=t.modules[n](),i=o.browserify;if("object"==typeof i&&i.main){var u=r(l.resolve(e,i.main));if(u)return u}else if("string"==typeof i){var u=r(l.resolve(e,i));if(u)return u}else if(o.main){var u=r(l.resolve(e,o.main));if(u)return u}}return r(e+"/index")}function i(t,e){for(var n=u(e),i=0;i<n.length;i++){var l=n[i],s=r(l+"/"+t);if(s)return s;var c=o(l+"/"+t);if(c)return c}var s=r(t);return s?s:void 0}function u(t){var e;e="/"===t?[""]:l.normalize(t).split("/");for(var n=[],r=e.length-1;r>=0;r--)if("node_modules"!==e[r]){var o=e.slice(0,r+1).join("/")+"/node_modules";n.push(o)}return n}if(n||(n="/"),t._core[e])return e;var l=t.modules.path();n=l.resolve("/",n);var s=n||"/";if(e.match(/^(?:\.\.?\/|\/)/)){var c=r(l.resolve(s,e))||o(l.resolve(s,e));if(c)return c}var f=i(e,s);if(f)return f;throw new Error("Cannot find module '"+e+"'")}}(),t.alias=function(e,n){var r=t.modules.path(),o=null;try{o=t.resolve(e+"/package.json","/")}catch(i){o=t.resolve(e,"/")}for(var u=r.dirname(o),l=(Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e})(t.modules),s=0;s<l.length;s++){var c=l[s];if(c.slice(0,u.length+1)===u+"/"){var f=c.slice(u.length);t.modules[n+f]=t.modules[u+f]}else c===u&&(t.modules[n]=t.modules[u])}},function(){var e={},n="undefined"!=typeof window?window:{},r=!1;t.define=function(o,i){!r&&t.modules.__browserify_process&&(e=t.modules.__browserify_process(),r=!0);var u=t._core[o]?"":t.modules.path().dirname(o),l=function(e){var n=t(e,u),r=t.cache[t.resolve(e,u)];return r&&null===r.parent&&(r.parent=s),n};l.resolve=function(e){return t.resolve(e,u)},l.modules=t.modules,l.define=t.define,l.cache=t.cache;var s={id:o,filename:o,exports:{},loaded:!1,parent:null};t.modules[o]=function(){return t.cache[o]=s,i.call(s.exports,l,s,s.exports,u,o,e,n),s.loaded=!0,s.exports}}}(),t.define("path",function(t,e,n,r,o,i,u){function l(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}function s(t,e){for(var n=0,r=t.length;r>=0;r--){var o=t[r];"."==o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var c=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){for(var t="",e=!1,n=arguments.length;n>=-1&&!e;n--){var r=n>=0?arguments[n]:i.cwd();"string"==typeof r&&r&&(t=r+"/"+t,e="/"===r.charAt(0))}return t=s(l(t.split("/"),function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."},n.normalize=function(t){var e="/"===t.charAt(0),n="/"===t.slice(-1);return t=s(l(t.split("/"),function(t){return!!t}),!e).join("/"),t||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(l(t,function(t,e){return t&&"string"==typeof t}).join("/"))},n.dirname=function(t){var e=c.exec(t)[1]||"",n=!1;return e?1===e.length||n&&e.length<=3&&":"===e.charAt(1)?e:e.substring(0,e.length-1):"."},n.basename=function(t,e){var n=c.exec(t)[2]||"";return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return c.exec(t)[3]||""}}),t.define("__browserify_process",function(t,e,n,r,o,i,u){var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){if(t.source===window&&"browserify-tick"===t.data&&(t.stopPropagation(),n.length>0)){var e=n.shift();e()}},!0),function(t){n.push(t),window.postMessage("browserify-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.binding=function(e){if("evals"===e)return t("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,n="/";i.cwd=function(){return n},i.chdir=function(r){e||(e=t("path")),n=e.resolve(r,n)}}()}),t.define("/lib/client.coffee",function(t,e,n,r,o,i,u){(function(){var n;n=t("./http"),e.exports=function(t,r,o){return"function"==typeof r&&(o=r,r={}),n.get(t,r,function(t,n){return t?o(t):e.exports.parse(n,o)})},e.exports.parse=function(t,n){var r,o,i;if(null==n)throw new Error("Callback must be passed to parse");if(null==t)return n();if("string"==typeof t)try{t=JSON.parse(t)}catch(u){u.body=t,console.log(u.body),n(u)}r=null;try{r=new e.exports.Collection(t)}catch(u){return u.body=JSON.stringify(t),n(u)}return o=null,(i=r.error)&&(o=new Error,o.title=i.title,o.message=i.message,o.code=i.code,o.body=JSON.stringify(t)),n(o,r)},e.exports.Collection=t("./attributes/collection")}).call(this)}),t.define("/lib/http.coffee",function(t,e,n,r,o,i,u){(function(){var t,n;e.exports=t={_get:function(t,e,n){return null==n&&(n=function(){}),n(new Error("'GET' not implemented"))},_post:function(t,e,n){return null==n&&(n=function(){}),n(new Error("'POST' not implemented"))},_put:function(t,e,n){return null==n&&(n=function(){}),n(new Error("'PUT' not implemented"))},_del:function(t,e,n){return null==n&&(n=function(){}),n(new Error("'DELETE' not implemented"))},cache:{put:function(t,e,n,r){return null==r&&(r=function(){}),"function"==typeof n&&(r=n,n=null),r()},del:function(t,e){return null==e&&(e=function(){}),e()},clear:function(t){return null==t&&(t=function(){}),t()},get:function(t,e){return null==e&&(e=function(){}),e()},size:function(t){return null==t&&(t=function(){}),t(0)},memsize:function(t){return null==t&&(t=function(){}),t(0)},debug:function(){return!0}}},e.exports["content-type"]="application/vnd.collection+json",e.exports.get=function(r,o,i){return t.cache.get(r,function(u,l){return u||l?i(u,l):(o.headers||(o.headers={}),o.headers.accept=e.exports["content-type"],e.exports.setOptions(r,o),t._get(r,o,function(t,e,r){return t?i(t):(n(e,r),i(t,e))}))})},e.exports.post=function(n,r,o){return null==r&&(r={}),r.headers||(r.headers={}),r.headers.accept=e.exports["content-type"],r.headers["content-type"]=e.exports["content-type"],e.exports.setOptions(n,r),t._post(n,r,function(t,e,n){return o(t,e)})},e.exports.setOptions=function(t,e){},n=function(t,e){}}).call(this)}),t.define("/lib/attributes/collection.coffee",function(t,e,n,r,o,i,u){(function(){var n,r,o;o=t("../underscore"),r=t("../http"),Function.prototype.define=function(t,e){return Object.defineProperty(this.prototype,t,e)},e.exports=n=function(){function e(t){var e;if("1.0"!==(null!=t&&null!=(e=t.collection)?e.version:void 0))throw new Error("Collection does not conform to Collection+JSON 1.0 Spec");this._collection=t.collection,this._links=null,this._queries=null,this._items=null,this._template=null,this.error=this._collection.error}return e.define("href",{get:function(){return this._collection.href}}),e.define("version",{get:function(){return this._collection.version}}),e.define("links",{get:function(){var e,n;return this._links?this._links:(this._links=n=[],e=t("./link"),o.each(this._collection.links,function(t){return n.push(new e(t))}),this._links)}}),e.prototype.link=function(t){return o.find(this.links,function(e){return e.rel===t})},e.define("items",{get:function(){var e,n;return this._items?this._items:(this._items=n=[],e=t("./item"),o.each(this._collection.items,function(t){return n.push(new e(t))}),this._items)}}),e.prototype.item=function(t){return o.find(this.items,function(e){return e.href===t})},e.define("queries",{get:function(){var e,n;return n=[],e=t("./query"),o.each(this._collection.queries||[],function(t){return n.push(new e(t))}),n}}),e.prototype.query=function(e){var n,r;return(r=o.find(this._collection.queries||[],function(t){return t.rel===e}))?new(n=t("./query"))(r):null},e.prototype.template=function(e){var n;return new(n=t("./template"))(this._collection.href,this._collection.template)},e}()}).call(this)}),t.define("/lib/underscore.coffee",function(t,e,n,r,o,i,u){(function(){e.exports=i.browser?window._:t("underscore")}).call(this)}),t.define("/lib/attributes/link.coffee",function(t,e,n,r,o,i,u){(function(){var n,r,o,i;i=t("../http"),o=t("../client"),n=t("./collection"),e.exports=r=function(){function t(t){this._link=t}return t.define("href",{get:function(){return this._link.href}}),t.define("rel",{get:function(){return this._link.rel}}),t.define("prompt",{get:function(){return this._link.prompt}}),t.prototype.follow=function(t){var e;return null==t&&(t=function(){}),e={},i.get(this._link.href,e,function(e,n){return e?t(e):o.parse(n,t)})},t}()}).call(this)}),t.define("/lib/attributes/item.coffee",function(t,e,n,r,o,i,u){(function(){var n,r,o,i,u,l,s;s=t("../underscore"),l=t("../http"),u=t("../client"),n=t("./collection"),o=t("./link"),i=t("./template"),e.exports=r=function(){function e(t,e){this._item=t,this._template=e,this._links={},this._data=null}return e.define("href",{get:function(){return this._item.href}}),e.prototype.datum=function(t){var e;return e=s.find(this._item.data,function(e){return e.name===t}),s.clone(e)},e.prototype.get=function(t){var e;return null!=(e=this.datum(t))?e.value:void 0},e.prototype.promptFor=function(t){var e;return null!=(e=this.datum(t))?e.prompt:void 0},e.prototype.load=function(t){var e;return e={},l.get(this._item.href,e,function(e,n){return e?t(e):u.parse(n,t)})},e.prototype.links=function(){return this._item.links},e.prototype.link=function(e){var n;return(n=s.find(this._item.links||[],function(t){return t.rel===e}))?(o=t("./link"),n&&(this._links[e]=new o(n)),this._links[e]):null},e.prototype.edit=function(){var t;if(!this._template)throw new Error("Item does not support editing");return t=s.clone(this._template),t.href=this._item.href,new i(t,this.data())},e.prototype.remove=function(t){var e;return e={},l.del(this._item.href,e,function(e,n){return e?t(e):u.parse(n,t)})},e}()}).call(this)}),t.define("/lib/attributes/template.coffee",function(t,e,n,r,o,i,u){(function(){var n,r,o,i,u;u=t("../underscore"),i=t("../http"),o=t("../client"),n=t("./collection"),e.exports=r=function(){function t(t,e,n){var r;this.href=t,this._template=e,this.form=null!=n?n:{},e=this._template,r=this.form,u.each((null!=e?e.data:void 0)||[],function(t){return null==r[t.name]?r[t.name]=t.value:void 0})}return t.prototype.datum=function(t){var e,n;return e=u.find((null!=(n=this._template)?n.data:void 0)||[],function(e){return e.name===t}),u.clone(e)},t.prototype.get=function(t){return this.form[t]},t.prototype.set=function(t,e){return this.form[t]=e},t.prototype.promptFor=function(t){var e;return null!=(e=this.datum(t))?e.prompt:void 0},t.prototype.submit=function(t){var e,n;return null==t&&(t=function(){}),e=u.map(this.form,function(t,e){return{name:e,value:t}}),n={body:{template:{data:e}}},i.post(this.href,n,function(e,n){return e?t(e):o.parse(n,t)})},t}()}).call(this)}),t.define("/lib/attributes/query.coffee",function(t,e,n,r,o,i,u){(function(){var n,r,o,i,u;u=t("../underscore"),i=t("../http"),o=t("../client"),n=t("./collection"),e.exports=r=function(){function t(t,e){var n;this._query=t,this.form=null!=e?e:{},t=this._query,n=this.form,u.each(t.data,function(t){return null==n[t.name]?n[t.name]=t.value:void 0})}return t.prototype.datum=function(t){var e;return e=u.find(this._query.data||[],function(e){return e.name===t}),u.clone(e)},t.prototype.get=function(t){return this.form[t]},t.prototype.set=function(t,e){return this.form[t]=e},t.prototype.promptFor=function(t){var e;return null!=(e=this.datum(t))?e.prompt:void 0},t.define("href",{get:function(){return this._query.href}}),t.define("rel",{get:function(){return this._query.rel}}),t.define("prompt",{get:function(){return this._query.prompt}}),t.prototype.submit=function(t){var e;return null==t&&(t=function(){}),e={qs:this.form},i.get(this._query.href,e,function(e,n){return e?t(e):o.parse(n,t)})},t}()}).call(this)}),t.define("/browser/cj.bare.coffee",function(t,e,n,r,o,i,u){(function(){window.CollectionJSON=t("../lib/client"),window.CollectionJSON.http=t("../lib/http")}).call(this)}),t("/browser/cj.bare.coffee")}();