<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-autogrow-textarea/iron-autogrow-textarea.html">
<link rel="import" href="../../bower_components/marked-element/marked-element.html">

</head><body><dom-module id="chris-note">
  <template>
    <style include="chris-feed-styles"></style>
    <style>app-toolbar{flex:1;background-color:var(--paper-grey-100);}.content{padding:20px;}#editor{display:none;width:inherit;}.markdown-html pre code{display:flex;padding:10px;color:#ffffff;background-color:var(--paper-grey-800);}.markdown-html code{padding:10px;background-color:var(--paper-grey-200);}.markdown-html blockquote p{background-color:var(--paper-grey-200);padding:8px;}.markdown-html table{border-collapse:collapse;}.markdown-html table, .markdown-html th, .markdown-html td{border:1px solid black;}</style>

      

      <div class="section toolbar">

        <div class="title">Note</div>

        <paper-icon-button icon="create" on-tap="edit"></paper-icon-button>
        <paper-icon-button icon="delete" on-tap="delete"></paper-icon-button>
        <paper-icon-button icon="save" on-tap="save"></paper-icon-button>

      </div>

      

      <div class="content">

        <iron-autogrow-textarea id="editor" on-keydown="_stopEventPropagation" on-keyup="_resizeContent" value="{{note}}"></iron-autogrow-textarea>
        
        <marked-element markdown="{{note}}" on-marked-render-complete="_resizeContent">
          <div class="markdown-html"></div>
        </marked-element>
      </div>

  </template>

  <script>Polymer({is:"chris-note",properties:{note:{type:String}},_stopEventPropagation:function(t){t.stopPropagation()},edit:function(t){this._stopEventPropagation(t),this.$.editor.style.display="block",this.fire("resize-content")},"delete":function(t){this._stopEventPropagation(t),this.note="",this._resizeContent()},save:function(t){this._stopEventPropagation(t),this.$.editor.style.display="none",this._resizeContent()},_resizeContent:function(t){this.fire("resize-content")}});</script>
</dom-module>
</body></html>