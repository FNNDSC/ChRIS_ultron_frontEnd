<html><head><meta charset="UTF-8"><link rel="import" href="../../chris-ultron.html"></head><body><dom-module id="chris-app">

  <template>

    <style>

    :host{

      background-color: var(--dark-primary-color);
      --paper-input-container-focus-color: var(--accent-color);

    }

    app-header-layout {

      /* use fit instead... */
      position: absolute;
      top: 0;
      right: 0;
      left: 0;
      bottom: 0;

    }

    app-toolbar {

      color: #ffffff;

    }

    a {

      color: #ffffff;

    }

    div[main-title] {

      text-align: center;
      
    }

    </style>

    <app-header-layout has-scrolling-region="" style$="[[_setLayoutStyle(app.color)]]">
      <app-header fixed="" condenses="" effects="waterfall">
        <app-toolbar style$="[[_setToolbarStyle(app.color)]]">
          <paper-icon-button icon="icons:arrow-back" on-tap="_exit"></paper-icon-button>
          <div main-title="">[[app.label]]</div>
        </app-toolbar>
        <app-toolbar id="appToolbar" style$="[[_setToolbarStyle(app.color)]]" sticky="">

        </app-toolbar>
      </app-header>

      <div id="content" class="content" on-exit-app="_exit">
      </div>

    </app-header-layout>

  </template>


  <script>Polymer({is:"chris-app",properties:{app:{type:Object,observer:"_appChanged"},plugins:{type:Array},appElt:HTMLElement},attached:function(){console.log("got attached")},_appChanged:function(){console.log(this.app),this.appElt&&(Polymer.dom(this.$.content).removeChild(this.appElt),Polymer.dom(this.$.appToolbar).removeChild(Polymer.dom(this.$.appToolbar).firstElementChild),this.appElt=null),Polymer.Base.importHref(this.resolveUrl("../../chris-apps/chris-apps-"+this.app.name+"/chris-apps-"+this.app.name+".html"),function(t){this.appElt=document.createElement("chris-apps-"+this.app.name),this.appElt.plugins=this.plugins,Polymer.dom(this.$.content).appendChild(this.appElt),Polymer.dom(this.$.appToolbar).appendChild(this.appElt.toolbar)}.bind(this),function(t){window.console.log("oops, something went wrong..."),window.console.log(t)}.bind(this),!0)},_exit:function(){this.appElt.reset(),this.fire("exit")},_setLayoutStyle:function(t){t=t.replace("#","");var p=parseInt(t.substring(0,2),16),e=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16);return"background-color: rgba("+p+","+e+","+o+", 0.5);"},_setToolbarStyle:function(t){return"background-color: "+t+";"}});</script>
</dom-module>
</body></html>