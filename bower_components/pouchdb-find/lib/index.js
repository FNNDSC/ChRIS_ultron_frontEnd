"use strict";var utils=require("./utils"),httpIndexes=require("./adapters/http"),localIndexes=require("./adapters/local");exports.createIndex=utils.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));var o="http"===this.type()?httpIndexes:localIndexes;o.createIndex(this,e,t)}),exports.find=utils.toPromise(function(e,t){if("undefined"==typeof t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));var o="http"===this.type()?httpIndexes:localIndexes;o.find(this,e,t)}),exports.getIndexes=utils.toPromise(function(e){var t="http"===this.type()?httpIndexes:localIndexes;t.getIndexes(this,e)}),exports.deleteIndex=utils.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));var o="http"===this.type()?httpIndexes:localIndexes;o.deleteIndex(this,e,t)}),"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(exports);