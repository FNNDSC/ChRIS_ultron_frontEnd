"use strict";function PouchError(r){this.status=r.status,this.name=r.error,this.message=r.reason,this.error=!0}PouchError.prototype__proto__=Error.prototype,PouchError.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message})},exports.UNAUTHORIZED=new PouchError({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),exports.MISSING_BULK_DOCS=new PouchError({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),exports.MISSING_DOC=new PouchError({status:404,error:"not_found",reason:"missing"}),exports.REV_CONFLICT=new PouchError({status:409,error:"conflict",reason:"Document update conflict"}),exports.INVALID_ID=new PouchError({status:400,error:"invalid_id",reason:"_id field must contain a string"}),exports.MISSING_ID=new PouchError({status:412,error:"missing_id",reason:"_id is required for puts"}),exports.RESERVED_ID=new PouchError({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),exports.NOT_OPEN=new PouchError({status:412,error:"precondition_failed",reason:"Database not open"}),exports.UNKNOWN_ERROR=new PouchError({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),exports.BAD_ARG=new PouchError({status:500,error:"badarg",reason:"Some query argument is invalid"}),exports.INVALID_REQUEST=new PouchError({status:400,error:"invalid_request",reason:"Request was invalid"}),exports.QUERY_PARSE_ERROR=new PouchError({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),exports.DOC_VALIDATION=new PouchError({status:500,error:"doc_validation",reason:"Bad special document member"}),exports.BAD_REQUEST=new PouchError({status:400,error:"bad_request",reason:"Something wrong with the request"}),exports.NOT_AN_OBJECT=new PouchError({status:400,error:"bad_request",reason:"Document must be a JSON object"}),exports.DB_MISSING=new PouchError({status:404,error:"not_found",reason:"Database not found"}),exports.IDB_ERROR=new PouchError({status:500,error:"indexed_db_went_bad",reason:"unknown"}),exports.WSQ_ERROR=new PouchError({status:500,error:"web_sql_went_bad",reason:"unknown"}),exports.LDB_ERROR=new PouchError({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),exports.FORBIDDEN=new PouchError({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),exports.INVALID_REV=new PouchError({status:400,error:"bad_request",reason:"Invalid rev format"}),exports.FILE_EXISTS=new PouchError({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),exports.MISSING_STUB=new PouchError({status:412,error:"missing_stub"}),exports.error=function(r,e,o){function t(e){for(var t in r)"function"!=typeof r[t]&&(this[t]=r[t]);void 0!==o&&(this.name=o),void 0!==e&&(this.reason=e)}return t.prototype=PouchError.prototype,new t(e)},exports.getErrorTypeByProp=function(r,e,o){var t=exports,s=Object.keys(t).filter(function(o){var s=t[o];return"function"!=typeof s&&s[r]===e}),n=o&&s.filter(function(r){var e=t[r];return e.message===o})[0]||s[0];return n?t[n]:null},exports.generateErrorFromResponse=function(r){var e,o,t,s,n,a=exports;return o=r.error===!0&&"string"==typeof r.name?r.name:r.error,n=r.reason,t=a.getErrorTypeByProp("name",o,n),r.missing||"missing"===n||"deleted"===n||"not_found"===o?t=a.MISSING_DOC:"doc_validation"===o?(t=a.DOC_VALIDATION,s=n):"bad_request"===o&&t.message!==n&&(0===n.indexOf("unknown stub attachment")?(t=a.MISSING_STUB,s=n):t=a.BAD_REQUEST),t||(t=a.getErrorTypeByProp("status",r.status,n)||a.UNKNOWN_ERROR),e=a.error(t,n,o),s&&(e.message=s),r.id&&(e.id=r.id),r.status&&(e.status=r.status),r.statusText&&(e.name=r.statusText),r.missing&&(e.missing=r.missing),e};