"use strict";function getIndexes(e){return e.allDocs({startkey:"_design/",endkey:"_design/ï¿¿",include_docs:!0}).then(function(e){var n={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return n.indexes=utils.flatten(n.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){var n=void 0!==e.doc.views?Object.keys(e.doc.views):[];return n.map(function(n){var s=e.doc.views[n];return{ddoc:e.id,name:n,type:"json",def:massageIndexDef(s.options.def)}})})),n.indexes.sort(function(e,n){return utils.compare(e.name,n.name)}),n.total_rows=n.indexes.length,n})}var utils=require("../../../utils"),localUtils=require("../utils"),massageIndexDef=localUtils.massageIndexDef;module.exports=getIndexes;