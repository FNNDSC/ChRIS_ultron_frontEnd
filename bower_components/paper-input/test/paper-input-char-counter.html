<!DOCTYPE html><html><head>

  <title>paper-input-counter tests</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,user-scalable=yes">

  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>

  <script src="../../web-component-tester/browser.js"></script>
  <script src="../../iron-test-helpers/test-helpers.js"></script>

  <link rel="import" href="../../iron-input/iron-input.html">
  <link rel="import" href="../paper-input-container.html">
  <link rel="import" href="../paper-input-char-counter.html">
  <link rel="import" href="../paper-textarea.html">

</head>
<body>

  <test-fixture id="counter">
    <template>
      <paper-input-container>
        <label id="l">label</label>
        <input id="i" value="foobar">
        <paper-input-char-counter id="c"></paper-input-char-counter>
      </paper-input-container>
    </template>
  </test-fixture>

  <test-fixture id="counter-with-max">
    <template>
      <paper-input-container>
        <label id="l">label</label>
        <input id="i" value="foobar" maxlength="10">
        <paper-input-char-counter id="c"></paper-input-char-counter>
      </paper-input-container>
    </template>
  </test-fixture>

  <test-fixture id="textarea">
    <template>
      <paper-textarea char-counter="" value="foobar"></paper-textarea>
    </template>
  </test-fixture>

  <test-fixture id="textarea-with-max">
    <template>
      <paper-textarea char-counter="" value="foobar" maxlength="100"></paper-textarea>
    </template>
  </test-fixture>

  <script>suite("basic",function(){test("character counter shows the value length",function(){var e=fixture("counter"),t=Polymer.dom(e).querySelector("#i"),r=Polymer.dom(e).querySelector("#c");assert.equal(r._charCounterStr,t.value.length,"character counter shows input value length")}),test("character counter shows the value length with maxlength",function(){var e=fixture("counter-with-max"),t=Polymer.dom(e).querySelector("#i"),r=Polymer.dom(e).querySelector("#c");assert.equal(r._charCounterStr,t.value.length+"/"+t.maxLength,"character counter shows input value length and maxLength")}),test("character counter shows the value length with maxlength",function(){var e=fixture("textarea-with-max");forceXIfStamp(e);var t=Polymer.dom(e.root).querySelector("paper-input-char-counter");assert.ok(t,"paper-input-char-counter exists"),assert.equal(t._charCounterStr,e.value.length+"/"+e.inputElement.textarea.getAttribute("maxlength"),"character counter shows input value length and maxLength")}),test("character counter counts new lines in textareas correctly",function(){var e=fixture("textarea");e.value="foo\nbar",forceXIfStamp(e);var t=Polymer.dom(e.root).querySelector("paper-input-char-counter");assert.ok(t,"paper-input-char-counter exists"),assert.equal(t._charCounterStr,e.value.length,"character counter shows the value length")})});</script>



</body></html>