!function(){"use strict";function t(t){function e(){if(i("WebComponentsReady?"),window.WebComponents&&WebComponents.whenReady)WebComponents.whenReady(function(){i("WebComponents Ready"),o()});else{var t=function e(){window.removeEventListener("WebComponentsReady",e),i("WebComponentsReady"),o()};window.addEventListener("WebComponentsReady",t)}}function n(){i("Polymer ready?"),window.Polymer&&Polymer.whenReady?Polymer.whenReady(function(){i("Polymer ready"),o()}):e()}i("whenFrameworksReady");var o=function(){i("whenFrameworksReady done"),t()};window.HTMLImports?HTMLImports.ready?(i("HTMLImports ready"),n()):HTMLImports.whenReady?HTMLImports.whenReady(function(){i("HTMLImports.whenReady ready"),n()}):e():o()}function e(t,e){return 1===t?t+" "+e+" test":t+" "+e+" tests"}function n(t,e){var n=document.createElement("script");n.src=t,e&&(n.onload=e.bind(null,null),n.onerror=e.bind(null,"Failed to load script "+n.src)),document.head.appendChild(n)}function o(t,e){var n=document.createElement("link");n.rel="stylesheet",n.href=t,e&&(n.onload=e.bind(null,null),n.onerror=e.bind(null,"Failed to load stylesheet "+n.href)),document.head.appendChild(n)}function i(t){if(y("verbose")){var e=[window.location.pathname];e.push.apply(e,arguments),(console.debug||console.log).apply(console,e)}}function r(t){var e=t.match(/^(.*?)(?:\?(.*))?$/);return{base:e[1],params:a(e[2]||"")}}function s(t,e){return e?t.match(/^(\/|https?:\/\/)/)?t:("/"!==e.substr(e.length-1)&&(e+="/"),e+t):t}function a(t){var e="string"==typeof t?t:window.location.search;if("?"===e.substring(0,1)&&(e=e.substring(1)),"/"===e.slice(-1)&&(e=e.substring(0,e.length-1)),""===e)return{};var n={};return e.split("&").forEach(function(t){var e=t.split("=");if(2!==e.length)return void console.warn("Invalid URL query part:",t);var o=decodeURIComponent(e[0]),i=decodeURIComponent(e[1]);n[o]||(n[o]=[]),n[o].push(i)}),n}function u(t,e){Object.keys(e).forEach(function(n){n in t||(t[n]=[]),t[n]=t[n].concat(e[n])})}function c(t){var e=a();return e[t]?e[t][0]:null}function d(t){var e=[];return Object.keys(t).forEach(function(n){t[n].forEach(function(t){e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})}),e.length>0?"?"+e.join("&"):""}function l(t){return(t.pathname||t).match(/^.*\//)[0]}function h(t,e){var n=t.pathname||t;return 0===n.indexOf(e)&&(n=n.substring(e.length)),n}function f(t){var e=t.pathname||t;return"/index.html"===e.slice(-11)&&(e=e.slice(0,e.length-10)),e}function p(t,e,n){function o(t){r||(u+=1,a-=1,t||u>=s?(r=!0,n(t)):i())}function i(){e&&a>=e||t.length&&(a+=1,t.shift()(o))}if("number"!=typeof e&&(n=e,e=0),!t.length)return n();var r=!1,s=t.length,a=0,u=0;t.forEach(i)}function m(t){var e=document.querySelectorAll('script[src*="'+t+'"]');if(1!==e.length)return null;var n=e[0].src;return n.substring(0,n.indexOf(t))}function w(t,e){var n=r(t);u(n.params,a(e.location.search)),delete n.params.cli_browser_id,this.url=n.base+d(n.params),this.parentScope=e,this.state="initializing"}function v(t){var e=w.current();if(e&&(b(K,e.parentScope.WCT._config),delete K.mochaOptions.ui),t&&"object"==typeof t&&b(K,t),!K.root){var n=m("browser.js");if(K.root=l(n.substr(0,n.length-1)),!K.root)throw new Error("Unable to detect root URL for WCT sources. Please set WCT.root before including browser.js")}}function y(t){return K[t]}function b(t,e){Object.keys(e).forEach(function(n){null===t[n]||"object"!=typeof t[n]||Array.isArray(t[n])?t[n]=e[n]:b(t[n],e[n])})}function g(t){t.forEach(function(t){if(/\.js(\?.*)?$/.test(t))X.push(t);else{if(!/\.html(\?.*)?$/.test(t))throw new Error("Unknown resource type: "+t);V.push(t)}})}function E(){var t=V;if(Z){for(var e,n=[],o=0;e=t[o];o++)-1!==Z.indexOf(f(e))&&n.push(e);t=n}return t}function R(t,e){i("loadJsSuites",X);var o=X.map(function(t){return n.bind(G,t)});p(o,e)}function C(t,e,n){i("runSuites");var o=[x.bind(null,t)];e.forEach(function(e){o.push(function(n){var o=new w(e,window);t.emit("childRunner start",o),o.run(function(i){t.emit("childRunner end",o),i&&t.emitOutOfBandTest(e,i),n()})})}),p(o,y("numConcurrentSuites"),function(e){t.done(),n(e)})}function x(e,n,o){if(y("waitForFrameworks")&&!o){var r=(y("waitFor")||t).bind(window);return void r(x.bind(null,e,n,!0))}i("_runMocha");var s=window.mocha,a=window.Mocha;s.reporter(e.childReporter(window.location)),s.suite.title=e.suiteTitle(window.location),s.grep(Z);var u=a.prototype.run.call(s,function(t){document.getElementById("mocha")&&a.utils.highlightTags("code"),n()});navigator.userAgent.match(/chrome/i)&&(window.onerror=null,window.addEventListener("error",function(t){t.error&&(t.error.ignore||u.uncaught(t.error))}))}function k(t,e){t=t.split("\n").map(function(t){return st+t}).join("\n"),it?tt.log("%c"+t,nt[e]||nt.plain):tt.log(t)}function T(t,e){rt?tt.group("%c"+t,nt[e]||nt.plain):tt.group?tt.group(t):(st+="  ",k(t,e))}function P(){tt.groupEnd?tt.groupEnd():st=st.substr(0,st.length-2)}function S(t){k(t.stack||t.message||t,"stack")}function j(t){Mocha.reporters.Base.call(this,t),t.on("suite",function(t){t.root||T(t.title,"suite")}.bind(this)),t.on("suite end",function(t){t.root||P()}.bind(this)),t.on("test",function(t){T(t.title,"test")}.bind(this)),t.on("pending",function(t){T(t.title,"pending")}.bind(this)),t.on("fail",function(t,e){S(e)}.bind(this)),t.on("test end",function(t){P()}.bind(this)),t.on("end",this.logSummary.bind(this))}function M(t){var e=document.createElement("div");e.id="mocha",document.body.appendChild(e),t.on("suite",function(e){this.total=t.total}.bind(this)),Mocha.reporters.HTML.call(this,t)}function I(t,e,n){this.reporters=e.map(function(t){return new t(this)}.bind(this)),this.parent=n,this.basePath=n&&n.basePath||l(window.location),this.total=t*dt,this.currentRunner=null,this.pendingEvents=[],this.emit("start")}function O(t){Mocha.reporters.Base.call(this,t),t.on("test end",this.report.bind(this))}function L(t,e,n,o,i){var r=lt+2*Math.PI*(n/e),s=lt+2*Math.PI*((n+o)/e);t.beginPath(),t.strokeStyle=i,t.lineWidth=ht,t.arc(16,16,16-ht/2,r,s),t.stroke()}function W(t,e){if(e)return[e.childReporter(window.location)];var n=[O,j];return t&&n.push(function(e){t.observe(e)}),(V.length>0||X.length>0)&&n.push(M),n}function F(t){_(j,t.reporters.Base.prototype),_(M,t.reporters.HTML.prototype),_(I,Object.getPrototypeOf(t.Runner.prototype))}function _(t,e){var n=Object.create(e);Object.keys(t.prototype).forEach(function(e){n[e]=t.prototype[e]}),t.prototype=n}function B(){i("Loading environment scripts:");var t="web-component-tester/data/a11ySuite.js",e=y("environmentScripts"),n=window.__generatedByWct||e.indexOf(t)>-1;n||e.push(t),e.forEach(function(t){var e=s(t,y("root"));i("Loading environment script:",e),document.write('<script src="'+encodeURI(e)+'"></script>')}),i("Environment scripts loaded");var o=y("environmentImports");o.forEach(function(t){var e=s(t,y("root"));i("Loading environment import:",e),document.write('<link rel="import" href="'+encodeURI(e)+'">')}),i("Environment imports loaded")}function U(){A(),H()}function A(){var t=window.Mocha;if(!t)throw new Error("WCT requires Mocha. Please ensure that it is present in WCT.environmentScripts, or that you load it before loading web-component-tester/browser.js");F(t);var e=m("mocha.js");e&&window.top===window.self&&o(e+"mocha.css")}function H(){return window.chai?(window.assert=window.chai.assert,void(window.expect=window.chai.expect)):void i("Chai not present; not registering shorthands")}function z(){window.addEventListener("error",function(t){ft.push(t.error)});var t=console,e=console.error;console.error=function(){if(e.apply(t,arguments),y("trackConsoleError"))throw"console.error: "+Array.prototype.join.call(arguments," ")}}function q(t,e){pt.push(function(){var n=window.Mocha;Object.keys(n.interfaces).forEach(function(o){var i=n.interfaces[o],r="tdd"===o?"teardown":"afterEach";n.interfaces[o]=function(n){i.apply(this,arguments),n.on("pre-require",function(n,i,s){var a=n[r].bind(n);n[t]=e(n,a,o)})}})})}function D(){pt.forEach(function(t){t()})}function N(){Object.keys(mt).forEach(function(t){Object.keys(mt[t]).forEach(function(e){window[e]=function n(){if($(t,e,mt[t][e]),!window[e]||window[e]===n)throw new Error("Expected mocha.setup to define "+e);window[e].apply(window,arguments)}})})}function $(t,e,n){var o=y("mochaOptions");if(o.ui&&o.ui!==t){var i="Mixing "+o.ui+" and "+t+' Mocha styles is not supported. You called "'+e+'". Did you mean '+n+"?";throw new Error(i)}wt||(D(),o.ui=t,mocha.setup(o))}function J(t,e){this.browserId=t,this.socket=e}function Q(t){for(var e=[];t&&!t.root&&t.title;)e.unshift(t.title),t=t.parent;return e}function Y(t){return"passed"===t.state?"passing":"failed"==t.state?"failing":t.pending?"pending":"unknown"}var G=Object.freeze({whenFrameworksReady:t,pluralizedStat:e,loadScript:n,loadStyle:o,debug:i,parseUrl:r,expandUrl:s,getParams:a,mergeParams:u,getParam:c,paramsToQuery:d,basePath:l,relativeLocation:h,cleanLocation:f,parallel:p,scriptPrefix:m});w.loadTimeout=6e4,w._byUrl={},w.current=function(){return w.get(window)},w.get=function(t,e){var n=w._byUrl[t.location.href];return n?n:window.parent===window?(e&&(console.warn("Subsuite loaded but was never registered. This most likely is due to wonky history behavior. Reloading..."),window.location.reload()),null):window.parent.WCT._ChildRunner.get(t,!0)},w.prototype.run=function(t){i("ChildRunner#run",this.url),this.state="loading",this.onRunComplete=t,this.iframe=document.createElement("iframe"),this.iframe.src=this.url,this.iframe.classList.add("subsuite");var e=document.getElementById("subsuites");e||(e=document.createElement("div"),e.id="subsuites",document.body.appendChild(e)),e.appendChild(this.iframe),this.url=this.iframe.src,w._byUrl[this.url]=this,this.timeoutId=setTimeout(this.loaded.bind(this,new Error("Timed out loading "+this.url)),w.loadTimeout),this.iframe.addEventListener("error",this.loaded.bind(this,new Error("Failed to load document "+this.url))),this.iframe.contentWindow.addEventListener("DOMContentLoaded",this.loaded.bind(this,null))},w.prototype.loaded=function(t){i("ChildRunner#loaded",this.url,t),this.iframe.contentWindow.WCT&&(this.share=this.iframe.contentWindow.WCT.share),t&&(this.signalRunComplete(t),this.done())},w.prototype.ready=function(t){i("ChildRunner#ready",this.url,t),this.timeoutId&&clearTimeout(this.timeoutId),t&&(this.signalRunComplete(t),this.done())},w.prototype.done=function(){i("ChildRunner#done",this.url,arguments),this.ready(),this.signalRunComplete(),this.iframe&&setTimeout(function(){this.iframe.parentNode.removeChild(this.iframe),this.iframe=null}.bind(this),1)},w.prototype.signalRunComplete=function(t){this.onRunComplete&&(this.state="complete",this.onRunComplete(t),this.onRunComplete=null)};var K={environmentScripts:["stacky/browser.js","async/lib/async.js","lodash/lodash.js","mocha/mocha.js","chai/chai.js","sinonjs/sinon.js","sinon-chai/lib/sinon-chai.js","accessibility-developer-tools/dist/js/axs_testing.js"],environmentImports:["test-fixture/test-fixture.html"],root:null,waitForFrameworks:!0,waitFor:null,numConcurrentSuites:1,trackConsoleError:!0,mochaOptions:{timeout:1e4},verbose:!1},V=[],X=[],Z=c("grep");Z&&(Z=Z.replace(/\\\./g,"."));var tt=window.console,et=';font: normal 13px "Roboto", "Helvetica Neue", "Helvetica", sans-serif;',nt={plain:et,suite:"color: #5c6bc0"+et,test:et,passing:"color: #259b24"+et,pending:"color: #e65100"+et,failing:"color: #c41411"+et,stack:"color: #c41411",results:et+"font-size: 16px"},ot=navigator.userAgent.toLowerCase(),it=ot.match("firefox")||ot.match("webkit"),rt=ot.match("webkit"),st="";j.prototype.logSummary=function(){T("Test Results","results"),this.stats.failures>0&&k(e(this.stats.failures,"failing"),"failing"),this.stats.pending>0&&k(e(this.stats.pending,"pending"),"pending"),k(e(this.stats.passes,"passing")),this.stats.failures||k("test suite passed","passing"),k("Evaluated "+this.stats.tests+" tests in "+this.stats.duration+"ms."),P()};var at=document.createElement("style");at.textContent="html, body {  position: relative;  height: 100%;  width:  100%;  min-width: 900px;}#mocha, #subsuites {  height: 100%;  position: absolute;  top: 0;}#mocha {  box-sizing: border-box;  margin: 0 !important;  overflow-y: auto;  padding: 60px 20px;  right: 0;  left: 500px;}#subsuites {  -ms-flex-direction: column;  -webkit-flex-direction: column;  display: -ms-flexbox;  display: -webkit-flex;  display: flex;  flex-direction: column;  left: 0;  width: 500px;}#subsuites .subsuite {  border: 0;  width: 100%;  height: 100%;}#mocha .test.pass .duration {  color: #555 !important;}",document.head.appendChild(at);var ut={indent:"  ",locationStrip:[/^https?:\/\/[^\/]+/,/\?.*$/],filter:function(t){return t.location.match(/\/web-component-tester\/[^\/]+(\?.*)?$/)}},ct=["start","end","suite","suite end","test","test end","hook","hook end","pass","fail","pending","childRunner end"],dt=3;I.prototype.childReporter=function(t){function e(t){t.name=n,o.bindChildRunner(t)}var n=this.suiteTitle(t),o=this;return e.title=n,e},I.prototype.done=function(){this.complete=!0,this.flushPendingEvents(),this.emit("end")},I.prototype.emitOutOfBandTest=function(t,e,n,o){i("MultiReporter#emitOutOfBandTest(",arguments,")");var r=new Mocha.Suite;r.title=n||"";var s=new Mocha.Test(t,function(){});s.parent=r,s.state=e?"failed":"passed",s.err=e,o||(this.total=this.total+dt);var a={total:1};this.proxyEvent("start",a),this.proxyEvent("suite",a,r),this.proxyEvent("test",a,s),e?this.proxyEvent("fail",a,s,e):this.proxyEvent("pass",a,s),this.proxyEvent("test end",a,s),this.proxyEvent("suite end",a,r),this.proxyEvent("end",a)},I.prototype.suiteTitle=function(t){var e=h(t,this.basePath);return e=f(e)},I.prototype.bindChildRunner=function(t){ct.forEach(function(e){t.on(e,this.proxyEvent.bind(this,e,t))}.bind(this))},I.prototype.proxyEvent=function(t,e,n){var o=Array.prototype.slice.call(arguments,2);return this.complete?void console.warn("out of order Mocha event for "+e.name+":",t,o):this.currentRunner&&e!==this.currentRunner?void this.pendingEvents.push(arguments):(i("MultiReporter#proxyEvent(",arguments,")"),"fail"!==t||o[0].err||(o[0].err=o[1]),void("start"===t?this.onRunnerStart(e):"end"===t?this.onRunnerEnd(e):(this.cleanEvent(t,e,o),this.emit.apply(this,[t].concat(o)))))},I.prototype.cleanEvent=function(t,e,n){n[0]&&(n[0]=this.showRootSuite(n[0])),"fail"===t&&(n[1]=Stacky.normalize(n[1],ut)),n[0]&&n[0].err&&(n[0].err=Stacky.normalize(n[0].err,ut))},I.prototype.showRootSuite=function(t){for(var e=t=Object.create(t);t&&t.parent;){var n=Object.create(t.parent);t.parent=n,t=n}return t.root=!1,e},I.prototype.onRunnerStart=function(t){i("MultiReporter#onRunnerStart:",t.name),this.total=this.total-dt+t.total,this.currentRunner=t},I.prototype.onRunnerEnd=function(t){i("MultiReporter#onRunnerEnd:",t.name),this.currentRunner=null,this.flushPendingEvents()},I.prototype.flushPendingEvents=function(){var t=this.pendingEvents;this.pendingEvents=[],t.forEach(function(t){this.proxyEvent.apply(this,t)}.bind(this))};var lt=0,ht=6;O.prototype.report=function(){this.updateTitle(),this.updateFavicon()},O.prototype.updateTitle=function(){this.stats.failures>0?document.title=e(this.stats.failures,"failing"):document.title=e(this.stats.passes,"passing")},O.prototype.updateFavicon=function(){var t=document.createElement("canvas");t.height=t.width=32;var e=t.getContext("2d"),n=this.stats.passes,o=this.stats.pending,i=this.stats.failures,r=Math.max(this.runner.total,n+o+i);L(e,r,0,n,"#0e9c57"),L(e,r,n,o,"#f3b300"),L(e,r,o+n,i,"#ff5621"),this.setFavicon(t.toDataURL())},O.prototype.setFavicon=function(t){var e=document.head.querySelector('link[rel="icon"]');e&&document.head.removeChild(e);var n=document.createElement("link");n.rel="icon",n.type="image/x-icon",n.href=t,n.setAttribute("sizes","32x32"),document.head.appendChild(n)};var ft=[],pt=[];q("fixture",function(t,e){return t.fixture||function(t,n){return e(function(){document.getElementById(t).restore()}),document.getElementById(t).create(n)}}),q("stub",function(t,e){return function(t,n){var o=document.createElement(t).constructor.prototype,i=Object.keys(n);i.forEach(function(t){sinon.stub(o,t,n[t])}),e(function(){i.forEach(function(t){o[t].isSinonProxy&&o[t].restore()})})}}),q("replace",function(t,e){return function(t){return{"with":function(n){var o=Polymer.Base.instanceTemplate;sinon.stub(Polymer.Base,"instanceTemplate",function(e){var i=o.apply(this,arguments),r=Array.prototype.slice.call(i.querySelectorAll(t));return r.forEach(function(t){for(var e=document.createElement(n),o=0;o<t.attributes.length;++o)e.setAttribute(t.attributes[o].name,t.attributes[o].value);t.parentNode.replaceChild(e,t)}),i}),e(function(){Polymer.Base.instanceTemplate.isSinonProxy&&Polymer.Base.instanceTemplate.restore()})}}}});var mt={tdd:{setup:'"before"',teardown:'"after"',suiteSetup:'"beforeEach"',suiteTeardown:'"afterEach"',suite:'"describe" or "context"',test:'"it" or "specify"'},bdd:{before:'"setup"',after:'"teardown"',beforeEach:'"suiteSetup"',afterEach:'"suiteTeardown"',describe:'"suite"',context:'"suite"',xdescribe:'"suite.skip"',xcontext:'"suite.skip"',it:'"test"',xit:'"test.skip"',specify:'"test"',xspecify:'"test.skip"'}},wt=!1,vt=window.location.protocol+"//"+window.location.host,yt=vt+"/socket.io/socket.io.js";J.prototype.observe=function(t){this.emitEvent("browser-start",{url:window.location.toString()}),t.on("test",function(t){this.emitEvent("test-start",{test:Q(t)})}.bind(this)),t.on("test end",function(t){this.emitEvent("test-end",{state:Y(t),test:Q(t),duration:t.duration,error:t.err})}.bind(this)),t.on("childRunner start",function(t){this.emitEvent("sub-suite-start",t.share)}.bind(this)),t.on("childRunner end",function(t){this.emitEvent("sub-suite-end",t.share)}.bind(this)),t.on("end",function(){this.emitEvent("browser-end")}.bind(this))},J.prototype.emitEvent=function(t,e){this.socket.emit("client-event",{browserId:this.browserId,event:t,data:e})},J.init=function(t){var e=c("cli_browser_id");return e?w.current()?t():void n(yt,function(n){if(n)return t(n);var o=io(vt);o.on("error",function(e){o.off(),t(e)}),o.on("connect",function(){o.off(),t(null,new J(e,o))})}):t()};var bt=window.setInterval,gt=window.setTimeout,Et=window.requestAnimationFrame;window.safeStep=function(t,e){var n;try{e()}catch(o){n=o}t(n)},window.testImmediate=function(t,e){if(e.length>0)return testImmediateAsync(t,e);var n;try{e()}catch(o){n=o}test(t,function(t){t(n)})},window.testImmediateAsync=function(t,e){var n,o=!1;test(t,function(t){var e=bt(function(){o&&(clearInterval(e),t(n))},10)});try{e(function(t){t&&(n=t),o=!0})}catch(i){n=i,o=!0}},window.flush=function(t){var e=function(){t()},n="Microsoft Internet Explorer"==navigator.appName;if(n&&window.Platform&&window.Platform.performMicrotaskCheckpoint){var o=e;e=function(){Platform.performMicrotaskCheckpoint(),gt(o,0)}}var i;window.Polymer&&window.Polymer.dom&&window.Polymer.dom.flush?i=window.Polymer.dom:window.Polymer&&window.Polymer.flush?i=window.Polymer:window.WebComponents&&window.WebComponents.flush&&(i=window.WebComponents),i&&i.flush(),gt(e,0)},window.animationFrameFlush=function(t){flush(function(){Et(function(){flush(t)})})},window.asyncPlatformFlush=function(t){return console.warn("asyncPlatformFlush is deprecated in favor of the more terse flush()"),window.flush(t)},window.waitFor=function Ct(t,e,n,o,i){i=i||Date.now()+(o||1e3),n=n||32;try{t()}catch(r){if(Date.now()>i)throw r;return void(isNaN(n)?n.onMutation(n,function(){Ct(t,e,n,o,i)}):gt(function(){Ct(t,e,n,o,i)},n))}e()},v(window.WCT);var Rt=window.WCT={};Rt.share={},Rt._ChildRunner=w,Rt._config=K,Rt.loadSuites=g,z(),N(),B(),document.addEventListener("DOMContentLoaded",function(){i("DOMContentLoaded"),U(),J.init(function(t,e){if(t)throw t;var n=w.current(),o=n&&n.parentScope.WCT._reporter;i("parentReporter:",o);var r=E(),s=W(e,o),a=new I(r.length+1,s,o);Rt._reporter=a,R(a,function(t){if(n&&n.ready(t),t)throw t;ft.forEach(function(t){a.emitOutOfBandTest("Test Suite Initialization",t)}),C(a,r,function(t){if(n&&n.done(),t)throw t})})})})}();