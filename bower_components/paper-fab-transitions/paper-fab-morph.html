<html><head><link rel="import" href="../iron-dropdown/iron-dropdown.html">



</head><body><dom-module id="paper-fab-morph">
  <template>
    <style>iron-dropdown{@apply (--paper-morph-dropdown);}.dropdown-content{@apply (--paper-morph-content);}#morpher{position:fixed;display:none;background-color:var(--paper-morph-background, #fff);}</style>
    <content id="fabContainer" select=".dropdown-trigger"></content>
    <content id="contentContainer" select=".dropdown-content"></content>
    <paper-material id="morpher"></paper-material>
  </template>
</dom-module>
<script>!function(t){t({is:"paper-fab-morph",properties:{isOverlayContent:{type:Boolean,value:!1},duration:{type:Number,value:200},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0}},observers:["_updateOverlayPosition(verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],ready:function(){if(this._fab=t.dom(this.$.fabContainer).getDistributedNodes()[0],this._content=t.dom(this.$.contentContainer).getDistributedNodes()[0],this.isOverlayContent)this._fab.addEventListener("tap",function(){this._content.open()}.bind(this)),this._overlay=this._content;else{var i=document.createElement("iron-dropdown");t.dom(i).appendChild(this._content),t.dom(this.root).appendChild(i),this._overlay=i,this._dropdown=i,this._fab.addEventListener("tap",function(){this._dropdown.open()}.bind(this)),this._updateOverlayPosition(this.verticalAlign,this.horizontalAlign,this.verticalOffset,this.horizontalOffset)}this._overlay.addEventListener("iron-overlay-opened",function(){this._morphOpen()}.bind(this)),this._overlay.addEventListener("iron-overlay-closed",function(){this._morphClose()}.bind(this))},open:function(){this._overlay.open()},close:function(){this._overlay.close()},_updateOverlayPosition:function(t,i,e,n){if(this._dropdown){var o=this._dropdown;o.verticalAlign=t,o.horizontalAlign=i,o.verticalOffset=e,o.horizontalOffset=n}},_morphOpen:function(){var t=this._fab,i=this._content,e=t.getBoundingClientRect(),n=this.$.morpher,o=n.style;o.display="block",o.top=e.top+"px",o.left=e.left+"px",o.width=e.width+"px",o.height=e.height+"px",o.borderRadius="50%",o.transitionDuration=this.duration+"ms",t.style.visibility="hidden",i.style.visibility="hidden";var s=i.getBoundingClientRect();o.top=s.top+"px",o.left=s.left+"px",o.width=s.width+"px",o.height=s.height+"px",o.borderRadius="",this.async(function(){n.style.display="none",i.style.visibility="visible"},this.duration)},_morphClose:function(){var t=this._fab,i=(this._content,t.getBoundingClientRect(),this.$.morpher),e=i.style;i.style.display="block",this.async(function(){var n=t.getBoundingClientRect();e.top=n.top+"px",e.left=n.left+"px",e.width=n.width+"px",e.height=n.height+"px",e.borderRadius="50%",this.async(function(){i.style.display="none",t.style.visibility="visible"},this.duration)})}})}(Polymer);</script>
</body></html>