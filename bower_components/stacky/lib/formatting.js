!function(t){"use strict";function n(n,o){o=e(o||{},t.defaults);var c=Array.isArray(n)?n:l(n);c=r(c,o);var u=a(c,o),s=c.map(function(t){var n=t.method||o.methodPlaceholder,r=o.indent+i(u-n.length),e=[o.styles.location(t.location),o.styles.line(t.line)];"column"in t&&e.push(o.styles.column(t.column));var a=e.join(":"),c=r+o.styles.method(n)+" at "+a;return t.important||(c=o.styles.unimportant(c)),c});return s.join("\n")}function r(t,n){for(var r,o=[],e=0;r=t[e];e++)n.filter(r)||(r.location=c(r.location,n),r.important=u(r,n),o.push(r));return o}function o(t){return t}function e(t,n){var r=Object.create(n);return Object.keys(t).forEach(function(o){var a=t[o];"object"!=typeof a||Array.isArray(a)||(a=e(a,n[o])),r[o]=a}),r}function a(t,n){for(var r,o=n.methodPlaceholder.length,e=0;r=t[e];e++)o=Math.min(n.maxMethodPadding,Math.max(o,r.method.length));return o}function i(t){for(var n="",r=0;t>r;r++)n+=" ";return n}function c(t,n){if(n.locationStrip)for(var r,o=0;r=n.locationStrip[o];o++)t=t.replace(r,"");return t}function u(t,n){if(n.unimportantLocation)for(var r,o=0;r=n.unimportantLocation[o];o++)if(t.location.match(r))return!1;return!0}var l=t.parse||require("./parsing").parse;t.defaults={maxMethodPadding:40,indent:"",methodPlaceholder:"<unknown>",locationStrip:[],unimportantLocation:[],filter:function(){return!1},styles:{method:o,location:o,line:o,column:o,unimportant:o}};var s=new Function("try {return this===global;}catch(e){return false;}");if(s()){var f=require("chalk");t.defaults.styles={method:f.magenta,location:f.blue,line:f.cyan,column:f.cyan,unimportant:f.dim}}t.clean=r,t.pretty=n}("undefined"!=typeof module?module.exports:this.Stacky=this.Stacky||{});