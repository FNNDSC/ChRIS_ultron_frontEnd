"use strict";function addSauceTests(e){e.reporters.push("saucelabs"),e.customLaunchers={ie8:{base:"SauceLabs",browserName:"internet explorer",platform:"Windows 7",version:"8.0"},chrome:{base:"SauceLabs",browserName:"chrome",platform:"Windows 8",version:"latest"},edge:{base:"SauceLabs",browserName:"MicrosoftEdge",platform:"Windows 10",version:"latest"},firefox:{base:"SauceLabs",browserName:"firefox",platform:"Windows 8.1",version:"latest"},safari:{base:"SauceLabs",browserName:"safari",platform:"OS X 10.11",version:"latest"}},e.browsers=e.browsers.concat(Object.keys(e.customLaunchers)),e.sauceLabs={"public":"public"},e.captureTimeout=12e4}module.exports=function(e){var s={frameworks:["browserify","expect","mocha"],files:["test/browser-fixtures/bdd.js","test/acceptance/*.js"],exclude:["test/acceptance/http.js","test/acceptance/fs.js","test/acceptance/lookup-files.js","test/acceptance/require/**/*.js","test/acceptance/misc/**/*.js"],preprocessors:{"test/**/*.js":["browserify"]},browserify:{debug:!0,configure:function(e){e.ignore("glob").ignore("jade").ignore("supports-color").exclude("./lib-cov/mocha")}},reporters:["spec"],colors:!0,browsers:["PhantomJS"],logLevel:e.LOG_INFO,singleRun:!0};if(process.env.CI)if(process.env.TRAVIS)"mochajs/mocha"===process.env.TRAVIS_REPO_SLUG&&"false"===process.env.TRAVIS_PULL_REQUEST&&(addSauceTests(s),s.sauceLabs.build="TRAVIS #"+process.env.TRAVIS_BUILD_NUMBER+" ("+process.env.TRAVIS_BUILD_ID+")",s.sauceLabs.tunnelIdentifier=process.env.TRAVIS_JOB_NUMBER,s.sauceLabs.startConnect=!0);else{if(!process.env.SAUCE_USERNAME&&!process.env.SAUCE_ACCESS_KEY)throw new Error("Must set SAUCE_USERNAME and SAUCE_ACCESS_KEY environment variables!");addSauceTests(s),s.sauceLabs.build=require("os").hostname()+" ("+Date.now()+")"}var a=process.env.MOCHA_UI;a?(s.sauceLabs&&(s.sauceLabs.testName='Interface "'+a+'" integration tests'),s.files=["test/browser-fixtures/"+a+".js","test/acceptance/interfaces/"+a+".js"]):s.sauceLabs&&(s.sauceLabs.testName="Unit Tests"),e.set(s)};